############################# Server Basics #############################
broker.id=1
zookeeper.connect=zookeeper:2181
log.dirs=/var/lib/kafka/data

############################# Listeners #############################
listeners=SSL://0.0.0.0:9093,EXTERNAL_SSL://0.0.0.0:9094
advertised.listeners=SSL://kafka-1:9093,EXTERNAL_SSL://localhost:19092
listener.security.protocol.map=SSL:SSL,EXTERNAL_SSL:SSL
inter.broker.listener.name=SSL

############################# SSL #############################
ssl.keystore.location=/secrets/brokers/kafka-1/kafka-1.keystore.p12
ssl.keystore.password=changeit
ssl.key.password=changeit
ssl.keystore.type=PKCS12

ssl.truststore.location=/secrets/brokers/kafka-1/truststore.p12
ssl.truststore.password=changeit
ssl.truststore.type=PKCS12

ssl.client.auth=required
ssl.principal.mapping.rules=RULE:^CN=(.*?),.*$/$1/,DEFAULT

############################# Authorization #############################
authorizer.class.name=kafka.security.authorizer.AclAuthorizer
allow.everyone.if.no.acl.found=false
super.users=User:admin;User:kafka-1;User:kafka-2;User:kafka-3
auto.create.topics.enable=false

############################# Performance #############################
num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600

############################# Internal topics #############################
offsets.topic.replication.factor=3
transaction.state.log.replication.factor=3
transaction.state.log.min.isr=2
